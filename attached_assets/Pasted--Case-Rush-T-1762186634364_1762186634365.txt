Техническое Задание для Разработчиков: Игровая Платформа "Case Rush"
Проект: Игровая экосистема в Telegram.

Мы создаем высококлассную игровую платформу внутри Telegram, ориентированную на азартные механики и современный пользовательский опыт. Цель — стать лидером в нише Telegram-казино за счет продуманной экономики, качественных анимаций, стабильности и уникальной системы взаимодействия с цифровыми активами.

Архитектура Системы: Система представляет собой клиент-серверное приложение, состоящее из 5 взаимосвязанных компонентов:

Telegram Mini App (Frontend): Клиентская часть, с которой взаимодействует пользователь. Отвечает за интерфейс, анимации и отправку запросов на сервер.
Основной Сервер (Backend): "Мозг" и ядро проекта. Отвечает за всю бизнес-логику: аутентификацию, управление пользователями, игровую математику, обработку транзакций, безопасность, систему чатов и интеграцию с внешними сервисами.
Telegram-бот (Финансовый шлюз для депозитов): Его единственная функция — принимать подарки от пользователей. Он слушает API Telegram, и при получении подарка передает данные на основной бэкенд для оценки и зачисления средств.
Сервис PORTAL (Интеграция для вывода и управления): Используется в двух сценариях:
Для пользователей (невидимо): Бэкенд использует API PORTAL для создания (минтинга) NFT-предметов, которые выпадают в кейсах, и для генерации подарочных ссылок при запросе вывода.
Для Владельца: Платформа PORTAL используется как инструмент для управления и продажи активов, полученных от пользователей через Telegram-бота.
Админ-панель: Веб-интерфейс для полного операционного контроля над проектом со стороны команды.
Ключевой Принцип: Клиент не является доверенным источником. Вся игровая логика, расчёт шансов и финансовые операции выполняются исключительно на сервере.

Глобальные Требования к Качеству (Нефункциональные)
Производительность и Отзывчивость:

Приложение должно ощущаться мгновенным. Переходы между экранами и отклик на действия пользователя должны быть быстрыми, без лагов и подвисаний.
Frontend: Обязательна оптимизация (code-splitting, lazy loading).
Backend: Среднее время ответа API не должно превышать 300 мс. Обязательно использование кэширования (Redis) для часто запрашиваемых данных.
Качество Анимаций:

Анимации — ключевой элемент, создающий "вау-эффект". Они должны быть плавными (60 FPS), физически корректными и полностью соответствовать дизайн-макетам.
Функциональные Требования к Mini App (Frontend)
Локализация: Приложение должно поддерживать два языка: Русский (RU) и Английский (EN). Язык определяется автоматически, с возможностью ручного переключения в профиле.

Способы пополнения баланса:

Telegram Stars: Интеграция с Telegram Payments.
TON: Интеграция с кошельками через TON Connect 2.0.
Депозит Подарком: Понятная инструкция и кнопка, ведущая в диалог с Telegram-ботом для отправки подарка.
Навигация и Экраны:

Навигация: Стандартная с Header (Онлайн, Баланс, Профиль) и Tab Bar (Кейсы, Игры, Бонусы, Профиль).
Игровые режимы:
Кейсы: 12+ категорий, детальный просмотр с топ-дропами, плавная анимация "рулетки".
Краш: С уникальной 2D-анимацией вора и полицейского.
Апгрейд: Улучшение предметов с отображением шанса.
PvP Монетка: Лобби, создание игры, анимация монеты с PEPE.
Плинко: Классическая пирамида в фирменном стиле.
Профиль: Система уровней, XP и рангов, инвентарь (где хранятся выигранные NFT-предметы), реферальная программа.
Поддержка: В профиле пользователя должна быть кнопка "Связаться с поддержкой", открывающая полноценный интерфейс чата, отображающий историю переписки и позволяющий отправлять новые сообщения в реальном времени.
Экономическая Модель и Логика (Backend)
Математика Игр: Целевой RTP (Return-to-Player) — 97% (House Edge 3%).

Апгрейд: Комиссия 5%.
PvP Монетка: Рейк 5%.
Все параметры должны быть настраиваемыми в админ-панели.
Система Поддержки (Чат):

Реализация: Двусторонняя real-time коммуникация между пользователем и модератором должна быть реализована через WebSocket.
База данных: Необходимо спроектировать таблицы для хранения диалогов и сообщений с привязкой к ID пользователя и модератора.
Внешние Интеграции
Telegram-бот (Только для депозитов):

Задача: Автоматизировать прием подарков.
Сценарий: Пользователь отправляет боту подарок. Бэкенд перехватывает событие, по внутренней таблице цен определяет стоимость подарка в Stars, зачисляет эту сумму на баланс пользователя и уведомляет его об успехе.
Сервис PORTAL (Для вывода и управления):

Важно: Для обычного пользователя интеграция полностью невидима.
Сценарий вывода: Когда пользователь выигрывает предмет, бэкенд в фоне создает (минтит) соответствующий NFT через API PORTAL. При запросе вывода, бэкенд генерирует подарочную ссылку для этого NFT и отдает ее пользователю.
Безопасность и Анти-фрод Система
Мульти-аккаунтинг: Система должна отслеживать и помечать аккаунты с общими идентификаторами.
Лимиты: Настраиваемые в админ-панели суточные и недельные лимиты на вывод.
Админ-панель
Язык интерфейса — только Русский.

Ролевая модель доступа:

Владелец: Полный доступ, управление ролями, просмотр логов действий администраторов.
Администратор: Управление всеми аспектами платформы, кроме настроек доступа.
Модератор поддержки: Основная роль — ведение переписки с пользователями через чат поддержки. Имеет доступ "только для чтения" к профилям пользователей для получения контекста.
Ключевые разделы:

Dashboard: Основные метрики (оборот, прибыль, DAU, RTP).
Поддержка (Live Chat): Основной раздел для Модераторов. Интерфейс со списком диалогов, окном переписки и панелью с информацией о пользователе для быстрого контекста.
Управление играми: Тумблер "Вкл/Выкл", редактор кейсов с калькулятором RTP.
Управление пользователями: Поиск, просмотр, ручное начисление/списание баланса с обязательной причиной.
Управление предметами: Создание/редактирование предметов, которые будут минтиться в PORTAL.
Финансы: Таблица цен для конвертации подарков, полученных ботом.
Безопасность: Раздел с алертами и настройками лимитов.